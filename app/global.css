@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --crunchie-yellow: #FFC72C;
    --crunchie-gold: #FFD700;
    --crunchie-purple: #6B2C91;
    --crunchie-dark-purple: #4A1A5C;
    --crunchie-orange: #FF8C00;
    --background: 45 100% 58%;
    --foreground: 271 50% 25%;
  }
  
  body {
    background: linear-gradient(135deg, var(--crunchie-yellow) 0%, var(--crunchie-gold) 50%, var(--crunchie-orange) 100%);
    color: var(--crunchie-purple);
  }
}

@layer utilities {
  .glow {
    text-shadow: 0 0 20px rgba(255, 140, 0, 0.8),
                 0 0 40px rgba(255, 215, 0, 0.6),
                 0 0 60px rgba(255, 199, 44, 0.4),
                 3px 3px 8px rgba(74, 26, 92, 0.8);
    animation: crunchie-glow 2s ease-in-out infinite alternate;
  }
  
  .neon-border {
    box-shadow: 0 0 20px rgba(255, 140, 0, 0.6),
                0 0 40px rgba(255, 215, 0, 0.4),
                inset 0 0 20px rgba(255, 199, 44, 0.2),
                inset 3px 3px 8px rgba(74, 26, 92, 0.3);
    border: 4px solid var(--crunchie-purple);
    border-radius: 12px;
  }
  
  .rainbow-text {
    background: linear-gradient(45deg, var(--crunchie-purple), var(--crunchie-orange), var(--crunchie-gold), var(--crunchie-purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 300% 300%;
    animation: crunchie-shine 3s ease-in-out infinite;
    font-weight: 900;
    text-shadow: 2px 2px 4px rgba(74, 26, 92, 0.5);
  }
  
  @keyframes crunchie-shine {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  @keyframes metallic-shine {
    0% { background-position: 0% 0%; }
    50% { background-position: 100% 100%; }
    100% { background-position: 0% 0%; }
  }
  
  .shake {
    animation: shake 0.5s infinite;
  }
  
  .float {
    animation: float 3s ease-in-out infinite;
  }
  
  .slide-up {
    animation: slideUp 0.6s ease-out;
  }
  
  .pop {
    animation: pop 0.3s ease-out;
  }
  
  .honeycomb-bg {
    position: relative;
    overflow: hidden;
  }
  
  .honeycomb-bg::before {
    content: 'üçØüçØüçØüçØüçØ';
    position: absolute;
    top: -50px;
    left: 0;
    width: 200%;
    font-size: 3rem;
    animation: honeycomb-float 15s linear infinite;
    opacity: 0.1;
    color: var(--crunchie-purple);
  }
  
  .crunchie-wrapper {
    background: linear-gradient(135deg, 
      var(--crunchie-yellow) 0%, 
      var(--crunchie-gold) 25%,
      var(--crunchie-yellow) 50%,
      var(--crunchie-orange) 75%,
      var(--crunchie-gold) 100%);
    background-size: 400% 400%;
    animation: metallic-shine 4s ease-in-out infinite;
  }
  
  .crunchie-text {
    font-family: 'Impact', 'Arial Black', sans-serif;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--crunchie-purple);
    text-shadow: 3px 3px 0px var(--crunchie-orange),
                 6px 6px 10px rgba(74, 26, 92, 0.5);
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }
  
  @keyframes crunchie-glow {
    from { 
      text-shadow: 0 0 20px rgba(255, 140, 0, 0.8),
                   0 0 40px rgba(255, 215, 0, 0.6),
                   0 0 60px rgba(255, 199, 44, 0.4),
                   3px 3px 8px rgba(74, 26, 92, 0.8);
    }
    to { 
      text-shadow: 0 0 30px rgba(255, 140, 0, 1),
                   0 0 60px rgba(255, 215, 0, 0.8),
                   0 0 90px rgba(255, 199, 44, 0.6),
                   5px 5px 15px rgba(74, 26, 92, 1);
    }
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }
  
  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  @keyframes pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }
  
  @keyframes honeycomb-float {
    0% { transform: translateX(-200px) translateY(0px) rotate(0deg); }
    50% { transform: translateX(50vw) translateY(-30px) rotate(180deg); }
    100% { transform: translateX(150vw) translateY(0px) rotate(360deg); }
  }
  
  /* Confetti animation for story endings */
  .confetti {
    font-size: 2rem;
    animation: confetti-fall 3s ease-out infinite;
    position: absolute;
    top: -10%;
    left: 0;
    width: 100%;
    text-align: center;
    opacity: 0.8;
  }
  
  @keyframes confetti-fall {
    0% {
      transform: translateY(-100vh) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }
  
  /* Enhanced mobile touch interactions */
  @media (hover: none) and (pointer: coarse) {
    .hover\:scale-105:hover {
      transform: none;
    }
    
    .hover\:scale-110:hover {
      transform: none;
    }
    
    /* Better touch feedback */
    button:active {
      transform: scale(0.95);
      transition: transform 0.1s ease;
    }
  }
  
  /* Improved text rendering on mobile */
  @media (max-width: 640px) {
    .crunchie-text {
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }
    
    /* Reduce shadow intensity on smaller screens */
    .glow {
      text-shadow: 0 0 10px rgba(255, 140, 0, 0.6),
                   0 0 20px rgba(255, 215, 0, 0.4),
                   0 0 30px rgba(255, 199, 44, 0.3),
                   2px 2px 4px rgba(74, 26, 92, 0.6);
    }
    
    .neon-border {
      box-shadow: 0 0 10px rgba(255, 140, 0, 0.4),
                  0 0 20px rgba(255, 215, 0, 0.3),
                  inset 0 0 10px rgba(255, 199, 44, 0.1),
                  inset 2px 2px 4px rgba(74, 26, 92, 0.2);
    }
  }
}

/* Crunchie-themed Scrollbar */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: var(--crunchie-gold);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--crunchie-purple), var(--crunchie-dark-purple));
  border-radius: 6px;
  border: 2px solid var(--crunchie-orange);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--crunchie-orange), var(--crunchie-purple));
}